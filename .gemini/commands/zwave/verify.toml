description="Verify correctness: tests, build, and a quick behavior checklist."
prompt = """
Verify the project meets GEMINI.md acceptance criteria and is ready for a 'First Run' success.

Do:
- Run unit tests, lint, and build:
  !{npm test}
  !{npm run lint}
  !{npm run build}
- Verify Entry Point & Registration:
  !{grep 'api.registerPlatform' src/index.ts}
  !{grep '"main": "dist/index.js"' package.json}
- Verify Versioning & Metadata:
  !{grep "Initializing Homebridge Z-Wave USB v" src/platform/ZWaveUsbPlatform.ts}
  !{grep "homepage" package.json}
  !{grep "funding" package.json}
- Verify UUID Stability & Naming:
  !{grep "uuid.generate" src/accessories/ZWaveAccessory.ts}
  !{grep "uuid.generate" src/accessories/ControllerAccessory.ts}
  !{grep "setCharacteristic(this.platform.Characteristic.Name" src/features/ZWaveFeature.ts}
- Verify Connection & Best Practices:
  !{grep "softReset: false" src/zwave/ZWaveController.ts}
  !{grep "forceConsole: true" src/zwave/ZWaveController.ts}
  !{grep "storagePath:" src/zwave/ZWaveController.ts}
  !{grep "securityKeysLongRange:" src/zwave/ZWaveController.ts}
- Verify Z-Wave Manager & PIN System:
  !{grep "Z-Wave Manager" src/accessories/ControllerAccessory.ts}
  !{grep "STATUS_CHAR_UUID" src/accessories/ControllerAccessory.ts}
  !{grep "PIN_CHAR_UUID" src/accessories/ControllerAccessory.ts}
  !{grep "s2_pin.txt" src/zwave/ZWaveController.ts}
- Verify All Features Implementation:
  !{ls src/features/BatteryFeature.ts}
  !{ls src/features/ThermostatFeature.ts}
  !{ls src/features/WindowCoveringFeature.ts}
  !{ls src/features/GarageDoorFeature.ts}
  !{ls src/features/ColorSwitchFeature.ts}
  !{ls src/features/SirenFeature.ts}
- Verify Config Schema & UI:
  !{grep "serialPort" config.schema.json}
  !{grep "S2_Authenticated_LR" config.schema.json}
  !{grep "S2_AccessControl_LR" config.schema.json}
  !{grep "generateKeys" homebridge-ui/public/index.html}
- Verify Accessory Information (Metadata):
  !{grep "AccessoryInformation" src/accessories/ZWaveAccessory.ts}
  !{grep "AccessoryInformation" src/accessories/ControllerAccessory.ts}
- Verify Publishing Setup:
  !{grep "id-token: write" .github/workflows/publish.yml}
  !{grep "npm publish --provenance" .github/workflows/publish.yml}

Then produce:
1) A 'First Run Readiness' Report
2) Checklist against 'Definition of done'
3) Any gaps and exact next steps to close them
4) A short manual test script for a Raspberry Pi/Homebridge host (covering Direct Mode and PIN entry)

Task: {{args}}
"""
